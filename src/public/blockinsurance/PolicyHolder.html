<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="css/Form2.css" />
    <script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
    <!-- <script type="text/javascript" src="jso.js"></script> -->
</head>

<body>


    <header><img src="images/ains.png" /></header>
    <section>
        <p>Please fill up the following form:-</p>
        <form id="Policy_holder_form" class="contact-form">
            <table class="table_form">
                <!--Policy holder details section-->
                <tr>
                    <td colspan="2">
                        <strong>Policy holder details</strong>
                    </td>
                </tr>
                <tr>
                    <td><label for="policyholder_name">Name</label></td>
                    <td><input id="policyholder_name" name="Policy holder name" type="text" /></td>
                </tr>
                <tr>
                    <td><label for="policyholder_email">Email Address</label></td>
                    <td><input id="policyholder_email" name="Policy holder email" type="email" /></td>
                </tr>
                <!-- <tr>
                    <td><label for="policyholder_address">Address</label></td>
                    <td><textarea id="policyholder_address" name="policyholder_address" rows="2" cols="65"></textarea></td>
                </tr> -->
                <!-- <tr>
                    <td><label for="policyholder_telepolicyholderone">Telephone</label></td>
                    <td><input id="policyholder_telephone" name="policyholder_telephone"  type="tel" maxlength="10" placeholder="123-456-7890" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"/></td>
                </tr> -->
                <tr>
                    <td><label for="policyholder_insurance_company">Insurance company name</label></td>
                    <td><select name="Policy holder's insurance company" id="policyholder_insurance_company">
                            <option value="">--Select insurance company--</option>
                            <option value="Allianz">Allianz</option>
                            <option value="ABC">ABC</option>
                            </select></td>

                    <tr>
                        <td><label for="policyholder_policy_no">Policy no.</label></td>
                        <td><input id="policyholder_policy_no" name="Policy holder policy nr." type="text" /></td>
                    </tr>
                    <tr>
                        <td><label for="policyholder_country">Country</label></td>
                        <td><select name="Policy holder country" id="policyholder_country">
                            <option value="">--Select your country--</option>
                            <option value="Belgium">Belgium</option>
                            <option value="Croatia">Croatia</option>
                            <option value="Czech Republic">Czech Republic</option>
                            <option value="Egypt">Egypt</option>
                            <option value="France">France</option>
                            <option value="Germany">Germany</option>
                            </select></td>
                    </tr>
                    <!--Other party details section-->
                    <tr>
                        <td colspan="2">
                            <strong>Other party details</strong>
                        </td>
                    </tr>
                    <tr>
                        <td><label for="otherperson_name">Name</label></td>
                        <td><input id="otherperson_name" name="Other person name" type="text" /></td>
                    </tr>
                    <tr>
                        <td><label for="otherperson_email">Email Address</label></td>
                        <td><input id="otherperson_email" name="Other person email" type="email" /></td>
                    </tr>
                    <!-- <tr>
                        <td><label for="otherperson_address">Address</label></td>
                        <td><textarea id="otherperson_address" name="otherperson_address" rows="2" cols="65"></textarea></td>
                    </tr> -->
                    <!-- <tr>
                        <td><label for="otherperson_teleotherpersonone">Teleopone</label></td>
                        <td><input id="op_teleopone" name="op_teleopone" type="text" /></td>
                    </tr> -->
                    <tr>
                        <td><label for="otherperson_insurance_company">Insurance company name</label></td>
                        <td><select name="Other person insurance company" id="otherperson_insurance_company">
                            <option value="">--Select insurance company--</option>
                            <option value="Allianz">Allianz</option>
                            <option value="ABC">ABC</option>
                            </select></td>
                    </tr>
                    <tr>
                        <td><label for="otherperson_policy_no">Policy no.</label></td>
                        <td><input id="otherperson_policy_no" name="Other person policy nr." type="text" /></td>
                    </tr>
                    <tr>
                        <td><label for="otherperson_country">Country</label></td>
                        <td><select name="Other person country" id="otherperson_country">
                                    <option value="">--Select your country--</option>
                                    <option value="Belgium">Belgium</option>
                                    <option value="Croatia">Croatia</option>
                                    <option value="Czech Republic">Czech Republic</option>
                                    <option value="Egypt">Egypt</option>
                                    <option value="France">France</option>
                                    <option value="Germany">Germany</option>
                                    </select></td>
                    </tr>
                    <!--Accident details section-->
                    <tr>
                        <td colspan="2">
                            <strong>Accident Details</strong>
                        </td>
                    </tr>
                    <tr>
                        <td><label for="Accident_time">Date/time:</label></td>
                        <td><input type="datetime-local" id="Accident_time" name="Accident date-time" value="" min="2016-01-01T00:00" max="2018-06-14T00:00" />
                        </td>
                    </tr>
                    <tr>
                        <td><label for="place">Place</label></td>
                        <td><input id="place" name="Accident place" type="text" /></td>
                    </tr>
                    <tr>
                        <td><label for="accident_country">Country</label></td>
                        <td><select name="Accident country" id="accident_country">
                            <option value="">--Select accident location--</option>
                            <option value="Belgium">Belgium</option>
                            <option value="Croatia">Croatia</option>
                            <option value="Czech Republic">Czech Republic</option>
                            <option value="Egypt">Egypt</option>
                            <option value="France">France</option>
                            <option value="Germany">Germany</option>
                            </select></td>
                    </tr>
                    <tr>
                        <td><label>Reporting authority involved</label></td>
                        <td> <input type="radio" name="Reporting authority" value="yes"> Yes &nbsp;
                            <input type="radio" name="Reporting authority" value="no"> No</td>
                    </tr>
                    <tr>
                        <td><label for="injury">Injury</label></td>
                        <td> <input type="radio" name="Injury" value="yes"> Yes &nbsp;
                            <input type="radio" name="Injury" value="no"> No</td>
                    </tr>
                    <tr>
                        <td><label for="material_damage">Material damage</label></td>
                        <td> <input type="radio" name="Material damage" value="yes"> Yes &nbsp;
                            <input type="radio" name="Material damage" value="no"> No</td>
                    </tr>
                    <tr>
                        <td><label for="Accident_photos">Upload accident photos</label></td>
                        <td><input id="Accident_photos" name="Accident photos" type="file" /></td>
                    </tr>
                    <tr>
                        <td><label for="Accident_claim_form">Upload claim form</label></td>
                        <td><input id="Accident_claim_form" name="Accident claim form" type="file" /></td>
                    </tr>
                    <!--Witness details section-->
                    <tr>
                        <td colspan="2">
                            <strong>Witness Details</strong>
                        </td>
                    </tr>
                    <tr>
                        <td><label for="witness_name">Name</label></td>
                        <td><input id="witness_name" name="Witness name" type="text" /></td>
                    </tr>
                    <!-- <tr class="contact-form__input-group">
                    <td><label class="contact-form__label" for="email">Email Address</label></td>
                    <td><input class="contact-form__input contact-form__input--email" id="email" name="email" type="email" /></td>
                </tr> -->
                    <!-- <tr>
                    <td><label for="witness_address">Address</label></td>
                    <td><textarea id="witness_address" name="witness_address" rows="2" cols="65"></textarea></td>
                </tr> -->
                    <tr>
                        <td><label for="witness_telephone">Telephone</label></td>
                        <td><input id="witness_telephone" name="Witness telephone" type="tel" maxlength="10" placeholder="123-456-7890" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" /></td>
                    </tr>
                    <!--Vehicle details section-->
                    <tr>
                        <td colspan="2">
                            <strong>Vehicle Details</strong>
                        </td>
                    </tr>
                    <tr>
                        <td><label for="vehicle_type">Type</label></td>
                        <td><input id="vehicle_type" name="Vehicle type" type="text" /></td>
                    </tr>
                    <tr>
                        <td><label for="vehicle_reg_no">Registration no.</label></td>
                        <td><input id="vehicle_reg_no" name="Vehicle reg nr." type="text" /></td>
                    </tr>
                    <tr>
                        <td><label for="vehicle_regcountry">Country of registration</label></td>
                        <td><select name="Vehicle registration country" id="vehicle_regcountry">
                            <option value="">--Select accident location--</option>
                            <option value="Belgium">Belgium</option>
                            <option value="Croatia">Croatia</option>
                            <option value="Czech Republic">Czech Republic</option>
                            <option value="Egypt">Egypt</option>
                            <option value="France">France</option>
                            <option value="Germany">Germany</option>
                            </select></td>
                    </tr>
                    <!--Remarks section-->
                    <tr>
                        <td colspan="2">
                            <strong>Remarks</strong>
                        </td>
                    </tr>
                    <tr>
                        <td><label for="policy_holder_remarks">Remarks</label></td>
                        <td><textarea id="policy_holder_remarks" name="Policy holder remarks" rows="5" cols="50" maxlength="150" placeholder="Maximum 150 characters"></textarea></td>
                    </tr>
                    <tr>
                        <td><label for="responsible_party">Responsible party according to you ?</label></td>
                        <td> <input type="radio" name="Responsible party" value="Myself"> Myself &nbsp;
                            <input type="radio" name="Responsible party" value="Other party"> Other party</td>
                    </tr>


            </table>
            <!-- <input name="secret" type="hidden" value="1b3a9374-1a8e-434e-90ab-21aa7b9b80e7" />-->
            <button id="submit" class="contact-form__button" type="submit">Submit</button>

        </form>
    </section>
    <!-- <div class="results">
        <h2 class="results__heading">Form Data</h2>
        <pre class="results__display-wrapper"><code class="results__display"></code></pre>
    </div> -->
    <!-- <table class="results">
        <h2 class="results__heading">Form Data</h2>
        <pre class="results__display-wrapper"><code class="results__display"></code></pre>
    </table> -->


</body>
<script>
    // $("#submit").click(function() {
    //     var data = html2json();
    //     alert(data);
    //     // storeUserDataInSession(data);
    //     // window.location = 'slider.html';  
    // });

    // function html2json() {
    //     var key = ['Terms', 'Definitions'];
    //     var c = 0;
    //     var json = '{"UserData":[';
    //     var otArr = [];
    //     var tbl2 = $('#Policy_holder_form tr').each(function(i) {
    //         x = $(this).find('.input');
    //         var itArr = [];
    //         x.each(function() {
    //             itArr.push('"' + key[c] + '":' + '"' + $(this).text().trim() + '"');
    //             c++;
    //         });
    //         y.each(function() {
    //             itArr.push('"' + key[c] + '":' + '"' + $(this).attr('src') + '"');
    //         });
    //         otArr.push('{' + itArr.join(',') + '}');
    //         c = 0;
    //     })
    //     json += otArr.join(",") + ']}';
    //     return json;
    // }
    // $("#submit").click(function() {
    //     var formData = JSON.stringify($("#Policy_holder_form"));
    //     console.log(formData);
    // });
    $("#submit").click(function() {
        var jsondata = {};

        $("input").each(function($i) {
            var name = $(this).attr('name')
            if ($(this).val()) {
                jsondata[name] = $(this).val();
            }


            var ph = document.getElementById("policyholder_country");
            var strCountry = ph.options[ph.selectedIndex].value;
            jsondata['Policy holder country'] = strCountry;

            var op = document.getElementById("otherperson_country");
            var strCountry = op.options[op.selectedIndex].value;
            jsondata['Other person country'] = strCountry;

            var ac = document.getElementById("accident_country");
            var strCountry = ac.options[ac.selectedIndex].value;
            jsondata['Accident country'] = strCountry;

            var vr = document.getElementById("vehicle_regcountry");
            var strCountry = vr.options[vr.selectedIndex].value;
            jsondata['Vehicle registration country'] = strCountry;
        });
        console.log(jsondata);
        alert(JSON.stringify(jsondata));

        // var fs = require('fs');
        // fs.writeFile("thing.json", JSON.stringify(buttonValue));

        // alert(thing.json);

    });

    // function getAttrs(DOMelement) {
    //     var obj = {};
    //     $.each(DOMelement.attributes, function() {
    //         if (this.specified) {
    //             obj[this.name] = this.value;
    //         }
    //     });
    //     return obj;
    // }

    // $("form").each(function() {
    //     var json = {
    //         "form": []
    //     };
    //     $(this).find("input").each(function() {
    //         json.form.push(getAttrs(this));
    //     });

    //     $(this).find("select").each(function() {
    //         var select = getAttrs(this);
    //         select["type"] = "select";
    //         var options = [];
    //         $(this).children().each(function() {
    //             options.push(getAttrs(this));
    //         });
    //         select["options"] = options;
    //         json.form.push(select);
    //     });
    //     console.log(json);
    // });
</script>

</html>